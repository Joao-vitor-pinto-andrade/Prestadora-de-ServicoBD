/*CREATE DATABASE MJA_ALOC;

USE MJA_ALOC*/

--------------------CRIANDO TABELA CLIENTE-----------------------------------
CREATE TABLE CLIENTE(
COD_CLIENTE SMALLINT IDENTITY(1,1) PRIMARY KEY, 
	ENDERECO_CLIENTE VARCHAR(80) NOT NULL,
		TELEFONE_CLIENTE CHAR (11) NOT NULL
);

----------------INSERINDO VALORES NA TABELA CLIENTE---------------------
INSERT INTO CLIENTE (ENDERECO_CLIENTE, TELEFONE_CLIENTE)
	VALUES('Rua dos Anjos, 295, Céu', 987542210);
INSERT INTO CLIENTE (ENDERECO_CLIENTE, TELEFONE_CLIENTE)
	VALUES('Rua D, 187 Siqueira', 987089599);
INSERT INTO CLIENTE (ENDERECO_CLIENTE, TELEFONE_CLIENTE)
	VALUES('Avenida Aguanambi, 1500, fortaleza', 984668872);
INSERT INTO CLIENTE (ENDERECO_CLIENTE, TELEFONE_CLIENTE)
	VALUES('Rua Professor Marcondes, 1855', 987542280);
INSERT INTO CLIENTE (ENDERECO_CLIENTE, TELEFONE_CLIENTE)
	VALUES('Rua Agamenor, 155, Fortaleza', 987545510);
--MOSTRANDO DADOS DA TABELA CLIENTE E DELETANDO--
--SELECT * FROM  CLIENTE;
	--DELETE FROM CLIENTE;
		--DROP TABLE CLIENTE;


----------ALTERAR TABELA---------------------------
ALTER TABLE CLIENTE
	ADD CONSTRAINT PK_CLIENTE
		PRIMARY KEY(COD_CLIENTE);


------CRIANDO TABELA FISICA------------------------
CREATE TABLE FISICA(
NOME_CLIENTE VARCHAR (50) PRIMARY KEY,
	CPF VARCHAR(11),
	COD_CLIENTE SMALLINT IDENTITY(1,1),
							FOREIGN KEY (COD_CLIENTE) REFERENCES CLIENTE (COD_CLIENTE)
);

-----------INSERINDO DADOS NA TABELA FISICA-----------------------

INSERT INTO FISICA (NOME_CLIENTE, CPF)
	VALUES ('ANABELE SOUSA', 06985473211);
INSERT INTO FISICA (NOME_CLIENTE, CPF)
	VALUES ('RICARDO MENESES', 02968472382);
INSERT INTO FISICA (NOME_CLIENTE, CPF)
	VALUES ('ALEXANDRE DE MORAIS', 75947935419);
INSERT INTO FISICA (NOME_CLIENTE, CPF)
	VALUES ('LUCIANE LOUREIRO', 75984123658);
INSERT INTO FISICA (NOME_CLIENTE, CPF)
	VALUES ('MARIANA LETICIA', 11154782324);

-------------------MOSTRANDO DADOS DA TABELA FISICA E DELETANDO--
--SELECT * FROM  FISICA;
	--DELETE FROM FISICA;
		--DROP TABLE FISICA

--------------CRIANDO TABELA JURIDICA------------------------
CREATE TABLE JURIDICA(
RAZAO_SOCIAL VARCHAR(80) PRIMARY KEY,
	CGC VARCHAR(11),
	COD_CLIENTE SMALLINT IDENTITY(1,1),
							FOREIGN KEY (COD_CLIENTE) REFERENCES CLIENTE (COD_CLIENTE)
);
-----------INSERINDO DADOS NA TABELA JURIDICA-----------------------
INSERT INTO JURIDICA(RAZAO_SOCIAL, CGC)
	VALUES ('SOUSA EMPRESTIMOS', 06985478211);
INSERT INTO JURIDICA (RAZAO_SOCIAL, CGC)
	VALUES ('SOL NASCENTE DISTRIBUIDORA', 03268472382);
INSERT INTO JURIDICA (RAZAO_SOCIAL, CGC)
	VALUES ('RT ADVOGADOS ASSOCIADOS', 0287935419);
INSERT INTO JURIDICA (RAZAO_SOCIAL, CGC)
	VALUES ('HELLEN CARDOSO', 75333123658);
INSERT INTO JURIDICA (RAZAO_SOCIAL, CGC)
	VALUES ('SOL SORVETES', 11154782444);

-------------------MOSTRANDO DADOS DA TABELA JURIDICA E DELETANDO--
--SELECT * FROM  JURIDICA;
	--DELETE FROM JURIDICA;	
		--DROP TABLE JURIDICA;

------------CRIANDO TABELA PEDIDO------------------------------------

CREATE TABLE PEDIDO(
NUMERO_PEDIDO INTEGER PRIMARY KEY NOT NULL,
	VALOR_TOTAL DECIMAL NOT NULL,
		DATA_ABERTURA VARCHAR(10) NOT NULL,
			DATA_SERVICO VARCHAR(10) NOT NULL,
				LOCAL_SERVICO VARCHAR(80) NOT NULL,
					RELACAO_SERVICO VARCHAR(80) NULL,
						COD_CLIENTE SMALLINT IDENTITY(1,1),
							FOREIGN KEY (COD_CLIENTE) REFERENCES CLIENTE (COD_CLIENTE)
					
);


------------------INSERINDO DADOS NA TABELA PEDIDO-----------------------
INSERT INTO PEDIDO (NUMERO_PEDIDO, VALOR_TOTAL,DATA_ABERTURA, DATA_SERVICO, LOCAL_SERVICO)
	VALUES(000,150.0,'2010/12/11', '2011/12/20','RUA CAJARANA,160, FORTALEZA');
INSERT INTO PEDIDO (NUMERO_PEDIDO, VALOR_TOTAL,DATA_ABERTURA, DATA_SERVICO, LOCAL_SERVICO)
	VALUES(001,250.0,'2020/05/11', '2020/12/20','AVENIDA URUBURETAMA,1500, FORTALEZA');
INSERT INTO PEDIDO (NUMERO_PEDIDO, VALOR_TOTAL,DATA_ABERTURA, DATA_SERVICO, LOCAL_SERVICO)
	VALUES(002,300.0,'2021/01/11', '2021/03/20','RUA PASQUAL ,1500, FORTALEZA');
INSERT INTO PEDIDO (NUMERO_PEDIDO, VALOR_TOTAL,DATA_ABERTURA, DATA_SERVICO, LOCAL_SERVICO)
	VALUES(003,200.0,'2020/01/11', '2020/11/20','RUA JAVA,110, FORTALEZA');
INSERT INTO PEDIDO (NUMERO_PEDIDO, VALOR_TOTAL,DATA_ABERTURA, DATA_SERVICO, LOCAL_SERVICO)
	VALUES(004,1500.0,'2020/02/11', '2020/12/20','RUA PYTHON,1010, FORTALEZA');
--MOSTRAR TABELA--
	--SELECT *FROM PEDIDO;
--DELETAR REGISTROS--
	--DELETE FROM PEDIDO WHERE NUMERO_PEDIDO= 004;
--DELETAR TABELA--
	--DROP TABLE PEDIDO;

--------CRIANDO TABELA COMPOSICAO---------------------------
CREATE TABLE COMPOSICAO(
COD_PEDIDO_SERVICO INTEGER PRIMARY KEY NOT NULL,
	VALOR_M2 DECIMAL NOT NULL,
		DURACAO_M2 VARCHAR(10) NOT NULL,
			DURACAO_SERVICO VARCHAR(10) NOT NULL,
				VALOR_UNITARIO DECIMAL NOT NULL,
				COD_CLIENTE SMALLINT IDENTITY(1,1),
							FOREIGN KEY (COD_CLIENTE) REFERENCES CLIENTE (COD_CLIENTE)
);

------INSERINDO DADOS NA TABELA COMPOSICAO--
INSERT INTO COMPOSICAO(COD_PEDIDO_SERVICO, VALOR_M2, DURACAO_M2, DURACAO_SERVICO, VALOR_UNITARIO)
	VALUES(000,20.00,'5HORAS','10HORAS',5.0);
INSERT INTO COMPOSICAO(COD_PEDIDO_SERVICO, VALOR_M2, DURACAO_M2, DURACAO_SERVICO, VALOR_UNITARIO)
	VALUES(001,20.00,'4HORAS','10HORAS',5.0);
INSERT INTO COMPOSICAO(COD_PEDIDO_SERVICO, VALOR_M2, DURACAO_M2, DURACAO_SERVICO, VALOR_UNITARIO)
	VALUES(002,20.00,'7HORAS','10HORAS',5.0);
INSERT INTO COMPOSICAO(COD_PEDIDO_SERVICO, VALOR_M2, DURACAO_M2, DURACAO_SERVICO, VALOR_UNITARIO)
	VALUES(003,20.00,'2HORAS','10HORAS',5.0);
INSERT INTO COMPOSICAO(COD_PEDIDO_SERVICO, VALOR_M2, DURACAO_M2, DURACAO_SERVICO, VALOR_UNITARIO)
	VALUES(004,20.00,'10HORAS','10HORAS',5.0);
------------------MOSTRAR TABELA--------------------------
--SELECT *FROM COMPOSICAO;
--DELETAR REGISTROS--
--DELETE FROM COMPOSICAO WHERE CODIGO_PEDIDO_SERVICO= 000;
--DELETAR TABELA--
--DROP TABLE COMPOSICAO;

------CRIANDO TABELA EMPREGADO------------------------
CREATE TABLE EMPREGADO(
MATRICULA SMALLINT PRIMARY KEY NOT NULL IDENTITY(1,1),
	NOME_EMPREGADO VARCHAR(80) NOT NULL,
);
 -------INSERINDO DADOS NA TABELA EMPREGADO-----------
INSERT INTO EMPREGADO(NOME_EMPREGADO)
	VALUES('MARCONDES');
 INSERT INTO EMPREGADO(NOME_EMPREGADO)
	VALUES('INGRID');
 INSERT INTO EMPREGADO(NOME_EMPREGADO)
	VALUES('JOSENILTON');
 INSERT INTO EMPREGADO(NOME_EMPREGADO)
	VALUES('PRISCILA');
 INSERT INTO EMPREGADO(NOME_EMPREGADO)
	VALUES('JOAO VITOR');

 --MOSTRAR TABELA--
--SELECT *FROM EMPREGADO;
--DELETAR REGISTROS--
--DELETE FROM EMPREGADO WHERE MATRICULA_EMPREGADO = 000;
--DELETAR TABELA--
--DROP TABLE EMPREGADO;

---------CRIANDO TABELA SERVICO--------------------------------
CREATE TABLE SERVICO(
COD_SERVICO SMALLINT PRIMARY KEY IDENTITY (1,1)  NOT NULL,
	DESCRICAO_SERVICO VARCHAR(100) NOT NULL,
		NUMERO_PEDIDO INTEGER NOT NULL,
			MATRICULA SMALLINT,
				FOREIGN KEY (NUMERO_PEDIDO) REFERENCES PEDIDO (NUMERO_PEDIDO),
					FOREIGN KEY (MATRICULA) REFERENCES EMPREGADO (MATRICULA)
						 						
);
----INSERINDO DADOS TABELA SERVICO----------------------------
INSERT INTO SERVICO (NUMERO_PEDIDO,DESCRICAO_SERVICO)
	VALUES(000,'AAAAAAAAA');
INSERT INTO SERVICO (NUMERO_PEDIDO,DESCRICAO_SERVICO)
	VALUES(001,'BBBBBBBB');
INSERT INTO SERVICO (NUMERO_PEDIDO,DESCRICAO_SERVICO)
	VALUES(002,'CCCCCCCC');
INSERT INTO SERVICO (NUMERO_PEDIDO,DESCRICAO_SERVICO)
	VALUES(003,'DDDDDDDD');
INSERT INTO SERVICO (NUMERO_PEDIDO,DESCRICAO_SERVICO)
	VALUES(004,'EEEEEEEE');

---------------------MOSTRAR TABELA--------------------------------
SELECT *FROM SERVICO;
--DELETAR REGISTROS--
--DELETE FROM SERVICO WHERE COD_SERVICO;
--DELETAR TABELA--
--DROP TABLE SERVICO;

--------------CRIANDO TABELA HABILITACAO------------------------
CREATE TABLE HABILITACAO(
CODIGO_EMPRESA_SERVICO INTEGER PRIMARY KEY NOT NULL,
	DATA_INICIO VARCHAR(11) NOT NULL,
		DATA_FIM VARCHAR(11) NOT NULL,
		MATRICULA SMALLINT,
		FOREIGN KEY (MATRICULA) REFERENCES EMPREGADO (MATRICULA)
);
---------INSERINDO DADOS TABELA HABILITACAO---------------------
INSERT INTO HABILITACAO(CODIGO_EMPRESA_SERVICO, DATA_INICIO, DATA_FIM)
	VALUES(000, '2020-10-02','02/01/2021');
INSERT INTO HABILITACAO(CODIGO_EMPRESA_SERVICO, DATA_INICIO, DATA_FIM)
	VALUES(001,'12/10/2020', '01/01/2021');
INSERT INTO HABILITACAO(CODIGO_EMPRESA_SERVICO, DATA_INICIO, DATA_FIM)
	VALUES(002,'12/01/2021', '02/03/2021');
INSERT INTO HABILITACAO(CODIGO_EMPRESA_SERVICO, DATA_INICIO, DATA_FIM)
	VALUES(003,'11/02/2020', '02/01/2021');
INSERT INTO HABILITACAO(CODIGO_EMPRESA_SERVICO, DATA_INICIO, DATA_FIM)
	VALUES(004,'10/08/2020', '02/01/2021');

--MOSTRAR TABELA--
--SELECT *FROM HABILITACAO;
--DELETAR REGISTROS--
--DELETE FROM HABILITACAO WHERE CODIGO_EMPRESA_SERVICO = 000;
--DELETAR TABELA--
--DROP TABLE HABILITACAO;

